<section id="custom-order" class="relative py-16 md:py-24 bg-[linear-gradient(135deg,#ffd8e6,#764ba2)] overflow-hidden">

  <!-- Decorative Background Elements -->
  <div class="absolute inset-0 overflow-hidden pointer-events-none">
    <div class="absolute top-10 right-10 w-32 h-32 md:w-40 md:h-40 bg-pink-200 rounded-full opacity-20 animate-pulse">
    </div>
    <div class="absolute top-1/3 left-5 w-24 h-24 md:w-32 md:h-32 bg-rose-200 rounded-full opacity-15 animate-bounce">
    </div>
    <div class="absolute bottom-20 right-1/4 w-20 h-20 md:w-24 md:h-24 bg-pink-300 rounded-full opacity-10"></div>
    <div class="absolute bottom-40 left-1/3 w-16 h-16 bg-rose-300 rounded-full opacity-10"></div>
  </div>

  <div class="relative container mx-auto px-4 sm:px-6 lg:px-8 max-w-6xl">

    <!-- Section Header -->
    <div class="text-center mb-12 md:mb-16">
      <h2 class="text-3xl font-bold bg-gradient-to-r text-slate-700 bg-clip-text mb-3 md:mb-4 px-4">
        Custom Order
      </h2>
      <p class="text-base sm:text-lg md:text-md text-gray-600 max-w-2xl mx-auto leading-relaxed px-4">
        Transform your vision into reality with our personalized design service.
        <span class="text-pink-600 font-semibold block sm:inline mt-1 sm:mt-0">Every detail matters</span> ✨
      </p>
    </div>

    <!-- 2 Kolom: Notes + Form -->
    <div class="grid lg:grid-cols-2 gap-10">

      <!-- Important Notes -->
      <div
        class="bg-white/10 h-fit backdrop-blur-lg rounded-2xl md:rounded-3xl p-6 md:p-8 shadow-xl border border-white/20 text-white">
        <div class="flex items-center justify-center mb-6">
          <div
            class="w-10 h-10 bg-gradient-to-r from-pink-400 to-rose-400 rounded-full flex items-center justify-center mr-3">
            <svg class="w-5 h-5 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                d="M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
          </div>
          <h3 class="text-xl md:text-2xl font-bold text-gray-800">Important Notes</h3>
        </div>

        <div class="space-y-4">
          <!-- Note 1 -->
          <div class="bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-4 border border-pink-100">
            <div class="flex items-start">
              <div class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0 mt-0.5">
                <span class="text-white text-xs font-bold">1</span>
              </div>
              <p class="text-gray-700 text-sm md:text-base flex-1">
                Please <span class="font-semibold text-pink-600">chat before ordering</span> to discuss your ideas.
              </p>
            </div>
          </div>

          <!-- Note 2 -->
          <div class="bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-4 border border-pink-100">
            <div class="flex items-start">
              <div class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0 mt-0.5">
                <span class="text-white text-xs font-bold">2</span>
              </div>
              <div class="flex-1">
                <p class="text-gray-700 text-sm md:text-base mb-3 font-medium">Not all shapes can be short:</p>
                <div class="grid sm:grid-cols-2 gap-3">
                  <div class="bg-white rounded-lg p-3 border border-pink-200">
                    <p class="text-xs text-gray-500 mb-1">Good for Short:</p>
                    <p class="text-sm font-semibold text-gray-800">Round, Oval, Squoval</p>
                  </div>
                  <div class="bg-white rounded-lg p-3 border border-pink-200">
                    <p class="text-xs text-gray-500 mb-1">Best for Long:</p>
                    <p class="text-sm font-semibold text-gray-800">Stiletto, Ballerina</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Note 3 -->
          <div class="bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-4 border border-pink-100">
            <div class="flex items-start">
              <div class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0 mt-0.5">
                <span class="text-white text-xs font-bold">3</span>
              </div>
              <p class="text-gray-700 text-sm md:text-base flex-1">
                Please <span class="font-semibold text-pink-600">send us your design</span> first for review.
              </p>
            </div>
          </div>

          <!-- Note 4 -->
          <div class="bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-4 border border-pink-100">
            <div class="flex items-start">
              <div class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0 mt-0.5">
                <span class="text-white text-xs font-bold">4</span>
              </div>
              <p class="text-gray-700 text-sm md:text-base flex-1">
                Price may vary depending on the <span class="font-semibold text-pink-600">complexity of the
                  design</span>.
              </p>
            </div>
          </div>

          <!-- Note 5 -->
          <div class="bg-gradient-to-r from-pink-50 to-rose-50 rounded-xl p-4 border border-pink-100">
            <div class="flex items-start">
              <div class="w-6 h-6 bg-pink-500 rounded-full flex items-center justify-center mr-3 flex-shrink-0 mt-0.5">
                <span class="text-white text-xs font-bold">5</span>
              </div>
              <p class="text-gray-700 text-sm md:text-base flex-1">
                We'll <span class="font-semibold text-pink-600">confirm everything</span> before you place your order.
              </p>
            </div>
          </div>
        </div>

        <!-- Footer Message -->
        <div class="mt-6 bg-gradient-to-r from-pink-100 to-rose-100 rounded-xl p-4 text-center border border-pink-200">
          <p class="text-gray-700 text-sm md:text-base">
            This helps us give you the <span class="font-semibold text-pink-600">best result and price</span> ✨
          </p>
        </div>
      </div>

      <!-- Custom Order Form -->
      <div
        class="bg-white/10 backdrop-blur-lg rounded-2xl md:rounded-3xl p-6 md:p-8 shadow-xl border border-white/20 text-slate-600">
        <form id="customOrderForm" class="space-y-5">
          @csrf
          <div>
            <label for="product-type" class="block mb-2 font-semibold">Product Type</label>
            <select id="product-type" name="product_type" required
              class="w-full px-4 py-3 rounded-lg bg-white/20 border-none focus:ring-2 focus:ring-pink-400">
              <option class="text-slate-600" value="">Choose Product Type</option>
              <option class="text-slate-600" value="Press-On Nails">Press-On Nails</option>
              <option class="text-slate-600" value="Phone Strap">Phone Strap</option>
            </select>
          </div>

          <div>
            <label for="design-desc" class="block mb-2 font-semibold">Design Description</label>
            <textarea id="design-desc" name="design_description" rows="4" required
              class="w-full px-4 py-3 rounded-lg bg-white/20 border-none focus:ring-2 focus:ring-pink-400"
              placeholder="Describe your dream design..."></textarea>
          </div>

          <div>
            <label for="color-preference" class="block mb-2 font-semibold">Color Preference</label>
            <input type="text" id="color-preference" name="color_preference" required
              class="w-full px-4 py-3 rounded-lg bg-white/20 border-none focus:ring-2 focus:ring-pink-400"
              placeholder="e.g., Pink, Gold, Rainbow">
          </div>

          <div>
            <label for="customer-name" class="block mb-2 font-semibold">Your Name</label>
            <input type="text" id="customer-name" name="name" required
              class="w-full px-4 py-3 rounded-lg bg-white/20 border-none focus:ring-2 focus:ring-pink-400"
              placeholder="Enter your name">
          </div>

          <div>
            <label for="customer-email" class="block mb-2 font-semibold">Email</label>
            <input type="email" id="customer-email" name="email" required
              class="w-full px-4 py-3 rounded-lg bg-white/20 border-none focus:ring-2 focus:ring-pink-400"
              placeholder="your.email@example.com">
          </div>

          <div>
            <label for="customer-phone" class="block mb-2 font-semibold">Phone Number</label>
            <input type="tel" id="customer-phone" name="phone" required
              class="w-full px-4 py-3 rounded-lg bg-white/20 border-none focus:ring-2 focus:ring-pink-400"
              placeholder="08xxxxxxxxxx">
          </div>

          <button type="submit"
            class="mt-3 mx-auto bg-[#ffcfdf] text-white font-bold px-6 py-2 rounded-full transition-all duration-300 hover:-translate-y-0.5 hover:bg-[#e55a87] hover:shadow-[0_5px_15px_rgba(255,107,157,0.4)] add-to-cart-btn">
            Submit Custom Order
          </button>
        </form>
      </div>
    </div>
  </div>
</section>

<script>
  document.getElementById('customOrderForm').addEventListener('submit', function (e) {
    e.preventDefault();

    // Validasi form terlebih dahulu
    let productType = document.getElementById('product-type').value;
    let designDesc = document.getElementById('design-desc').value;
    let colorPref = document.getElementById('color-preference').value;
    let name = document.getElementById('customer-name').value;
    let email = document.getElementById('customer-email').value;
    let phone = document.getElementById('customer-phone').value;

    // Cek apakah semua field terisi
    if (!productType || !designDesc || !colorPref || !name || !email || !phone) {
      alert('Please fill in all fields!');
      return;
    }

    // Gunakan '\n' untuk baris baru. Pesan ini akan di-encode secara utuh.
    let message = `*CUSTOM ORDER BARU - Buds Studio*\n`;
    message += `=====================================\n\n`;
    message += `Halo, saya ingin membuat pesanan custom!\n\n`;

    message += `*DETAIL PESANAN:*\n`;
    message += `Jenis Produk: ${productType}\n`;
    message += `Deskripsi Desain:\n${designDesc}\n`; // Menggunakan baris baru untuk deskripsi
    message += `Preferensi Warna: ${colorPref}\n\n`;

    message += `*DATA KONTAK:*\n`;
    message += `Nama: ${name}\n`;
    message += `Email: ${email}\n`;
    message += `No. Telepon: ${phone}`;

    let waNumber = "6281809740724";

    let url = `https://wa.me/${waNumber}?text=${encodeURIComponent(message)}`;

    // Debug: tampilkan URL di console
    console.log('WhatsApp URL:', url);

    // Buka WhatsApp
    window.open(url, '_blank');
  });
</script>